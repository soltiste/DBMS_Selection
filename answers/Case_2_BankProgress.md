Аналитический отдел банка жалуется, что создание ежемесячных отчетов по продажам финансовых продуктов по всем филиалам занимает более 20 часов и полностью нагружает основную систему, мешая операционной работе.  

**Требования:**  
- быстрое выполнение сложных агрегирующих запросов (суммы, средние, рост по регионам);  
- работа с историческими данными за 10 лет;  
- разгрузка основной операционной системы.  

---

## ❓ Вопросы для ответа

### 1. Какие ключевые требования к СУБД в этом кейсе? 
 СУБД должна поддреживать быстрое выполнение агрегирующих запросов;
 В аналитике банка часто будут требоваться запросы к конкретным периодам - нужна СУБД, поддерживающая партиционирование;
 Не ясно, почему нет разделения между основной системой и системой формирования отчетов. Возможно, это как раз та архитектурная ошибка, которую мы должны исправить;
Было бы здорово, чтобы у СУБД сразу был BI-инструмент, легко согласующийся с ней. 

### 2. Какие сложности или ограничения могут возникнуть при выборе СУБД? 
Осведомленность персонала (например, меня) о различных СУБД;
Если нужно будет остаться на системе, которая уже есть, возможно, потребуется оптимизировать существующую СУБД - выбор без выбора;
Если переходить в новую, я не уверена, что в любом случае мы сможем обеспечить миграцию данных такого большого объема. Хоть и данные только управляются СУБД, но наверняка хранение их было настроено под прошлую систему;
Если поддерживать две системы, необходимо будет налаживать их взаимодействие и выделять дополнительные мощности.

### 3. Какие классы СУБД подходят для решения задачи?  
Для второй системы:
OLAP
Колоночная

Для существующей системы я бы рассмотрела, какие расширения в сторону оптимизации запросов появились за последнее время и успели зарекомендовать себя.

### 4. Приведите примеры конкретных СУБД, которые вы бы выбрали.  
### 5. Обоснуйте ваш выбор: почему именно эта СУБД?  
Я знаю, что БСПб использует ClickHouse со столбцовым хранением данных, которое позволяет быстро считать агрегатные функции, и даже как-то имела опыт работы с ней. Есть удобный BI инструмент, поддержка партиционирования, также есть работа с жесткими дисками, что удешевляет хранение. За неимением других навыков и знаний, если бы меня попросили сегодня начать реализацию, выбрала бы ее.

В процессе подготовки доклада о PostgreSQL я узнала о расширении Greenplum, возможно, это было бы также хорошим решением как вторая система, если у нас вдруг PostgreSQL - основная СУБД. Greenplum поддерживает большие объемы данных, поддерживает BI инструменты, за счет эффективных алгоритмов обработка аналитических запросов пойдет в разы быстрее, чем на чистом PostgreSQL, есть партиционирование, также нам не придется переучивать персонал.

### 6. Какие риски или проблемы могут возникнуть при эксплуатации выбранной СУБД?  
Если будем формировать вторую систему (то есть, основную оставим OLTP и введем OLAP для аналитики) или мигрировать на новую, то:
Риск утечки данных на моменте передачи информации и ее хранения
Необходимо будет обучать/менять персонал под выбранную СУБД, в первом случае повышается риск человеческого фактора

Если остаемся на прежней, рискуем не выполнить все требования заказчика.

В процессе подготовки доклада о PostgreSQL я узнала о расширении Greenplum, возможно, это было бы также хорошим решением как вторая система, если у нас PostgreSQL - основная СУБД. Greenplum поддерживает большие объемы данных, поддерживает BI инструменты, за счет эффективных алгоритмов обработка аналитических запросов пойдет в разы быстрее, чем на чистом PostgreSQL, есть патриционирование, также нам не придется переучивать персонал.

### 6. Какие риски или проблемы могут возникнуть при эксплуатации выбранной СУБД?  
Если будем формировать вторую систему (то есть, основную оставим OLTP и введем OLAP для аналитики) или мигрировать на новую, то:
Риск утечки данных на моменте передачи информации и ее хранения
Необходимо будет обучать/менять персонал под выбранную СУБД, в первом случае повышается риск человеческого фактора

Если остаемся на прежней, рискуем не выполнить все требования заказчика.
